[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Kyle Haynes: Curriculum Vitae",
    "section": "",
    "text": "kyle@kylehaynes.com.au\nhead(iris)\n\n  Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1          5.1         3.5          1.4         0.2  setosa\n2          4.9         3.0          1.4         0.2  setosa\n3          4.7         3.2          1.3         0.2  setosa\n4          4.6         3.1          1.5         0.2  setosa\n5          5.0         3.6          1.4         0.2  setosa\n6          5.4         3.9          1.7         0.4  setosa\n\nrequire(data.table)\n\nLoading required package: data.table\n\n\nWarning: package 'data.table' was built under R version 4.3.3\n\nd &lt;- data.table(iris)\n\nhead(d)\n\n   Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n          &lt;num&gt;       &lt;num&gt;        &lt;num&gt;       &lt;num&gt;  &lt;fctr&gt;\n1:          5.1         3.5          1.4         0.2  setosa\n2:          4.9         3.0          1.4         0.2  setosa\n3:          4.7         3.2          1.3         0.2  setosa\n4:          4.6         3.1          1.5         0.2  setosa\n5:          5.0         3.6          1.4         0.2  setosa\n6:          5.4         3.9          1.7         0.4  setosa\nasdas"
  },
  {
    "objectID": "index.html#education",
    "href": "index.html#education",
    "title": "Kyle Haynes: Curriculum Vitae",
    "section": "EDUCATION",
    "text": "EDUCATION\nDoctor of Philosophy –   Griffith University Aug 2021 — Present\n\ndot point\ndot point\ndot point"
  },
  {
    "objectID": "index.html#work-experience",
    "href": "index.html#work-experience",
    "title": "Kyle Haynes: Curriculum Vitae",
    "section": "WORK EXPERIENCE",
    "text": "WORK EXPERIENCE\n\nSenior Statistician, A06\nQueensland Government Statisticians Office (QGSO): Data Integration Jan 2020 – Present\nUpdate Update Update.\n\nUpdate\n\n\n\nStatistician, A05\nQGSO: Statistical Collection Intergarion & Analysis Jan 2020 – Present\nUpdate Update.\n\n\nStatistician, A04\nQGSO: Statistical Collection Intergarion & Analysis Jan 2020 – Present\nUpdate Update. asdas"
  },
  {
    "objectID": "index.html#technical-skillsets",
    "href": "index.html#technical-skillsets",
    "title": "Kyle Haynes: Curriculum Vitae",
    "section": "TECHNICAL SKILLSETS",
    "text": "TECHNICAL SKILLSETS\n\nR: 10+ years experience coding daily in R.\n\nHeavy involvment in transioning QGSO from SAS to R.\nRShiny: High level of und\nShiny:\nRMarkdown:\nBase R/ data.table\nPackage development\n\nGit / Gitlab / Github: High level of understanding\nSQL\nHTML/Javascript\nSAS"
  },
  {
    "objectID": "index.html#references",
    "href": "index.html#references",
    "title": "Kyle Haynes: Curriculum Vitae",
    "section": "References",
    "text": "References\nAvailable upon request"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "2024_04_flextables_in_quarto.html",
    "href": "2024_04_flextables_in_quarto.html",
    "title": "Flextables in Quarto",
    "section": "",
    "text": "Flextable is a really nice and customisable R Package for outputting tables.\nThe following is an attempt to replicate the following tables produced here: https://www.qgso.qld.gov.au/statistics/theme/crime-justice/crime-justice-statistics/recorded-crime\n\n# Install required packages.\n# install.packages(\"flextable\")\n# install.packages(\"magrittr\")\n# install.packages(\"data.table\")\n\n# Load required packages.\nlibrary(flextable)\n\nWarning: package 'flextable' was built under R version 4.3.3\n\nlibrary(magrittr)\n\nWarning: package 'magrittr' was built under R version 4.3.3\n\nlibrary(data.table)\n\nWarning: package 'data.table' was built under R version 4.3.3\n\n# Data...\nd &lt;- fread(\"Unlawful entry,40251,42170,35681,-15.4,796.8,821.2,683.9,-16.7\n    Unlawful entry with intent - dwelling,24548,25048,22344,-10.8,485.9,487.8,428.3,-12.2\n    Without violence,23849,24348,21641,-11.1,472.1,474.2,414.8,-12.5\n    With violence,699,700,703,0.4,13.8,13.6,13.5,-1.2\n    Unlawful entry with intent - shop,2053,2400,2240,-6.7,40.6,46.7,42.9,-8.1\n    Unlawful entry with intent - other,13650,14722,11097,-24.6,270.2,286.7,212.7,-25.8\n    Arson,1287,1430,1169,-18.3,25.5,27.8,22.4,-19.5\n    Other property damage,36689,36348,33282,-8.4,726.3,707.8,637.9,-9.9\n    Unlawful use of motor vehicle,14940,15975,14900,-6.7,295.7,311.1,285.6,-8.2\n    Other theft,129960,130790,103179,-21.1,2572.6,2547.0,1977.6,-22.4\n    Stealing from dwellings,8832,9044,6816,-24.6,174.8,176.1,130.6,-25.8\n    Shop stealing,26380,27825,20818,-25.2,522.2,541.9,399.0,-26.4\n    Vehicles,32890,33168,25041,-24.5,651.1,645.9,480.0,-25.7\n    Other stealing,61858,60753,50504,-16.9,1224.5,1183.1,968.0,-18.2\n    Fraud,28994,30431,23424,-23.0,574.0,592.6,449.0,-24.2\n    Fraud by computer,771,1312,885,-32.5,15.3,25.5,17.0,-33.6\n    Fraud by cheque,121,116,74,-36.2,2.4,2.3,1.4,-37.2\n    Fraud by credit card,14628,14443,11272,-22.0,289.6,281.3,216.0,-23.2\n    Identity fraud,2238,2446,1961,-19.8,44.3,47.6,37.6,-21.1\n    Other fraud,11236,12114,9232,-23.8,222.4,235.9,176.9,-25.0\n    Handling stolen goods,6657,7684,5181,-32.6,131.8,149.6,99.3,-33.6\n    Possess property suspected stolen,3006,3346,2044,-38.9,59.5,65.2,39.2,-39.9\n    Receiving stolen property,445,440,273,-38.0,8.8,8.6,5.2,-38.9\n    Possess etc. tainted property,3134,3816,2805,-26.5,62.0,74.3,53.8,-27.7\n    Other handling stolen goods,72,82,59,-28.0,1.4,1.6,1.1,-29.2\n    Total,258778,264828,216816,-18.1,5122.6,5157.3,4155.7,-19.4\"\n)\n\n# Update column names.\nsetnames(d, c(\"category\", \"num_18\", \"num_19\", \"num_20\", \n    \"year_change_per\", \"rate_18\", \"rate_19\", \"rate_20\", \n    \"rate_year_change_per\"\n    )\n)\n\n# Define some default colours.\nmain_head_col &lt;- \"#DEC3A3\"\nsub_head_col &lt;- \"#E8D2BA\"\nprimary_cat &lt;- \"#eeddcc\"\nsecondary_cat &lt;- \"#f5efe5\"\ntotal_row_col &lt;- main_head_col\nhighlight_col &lt;- \"#BE955B\"\n\n\n# Create the header.\nheader &lt;- data.table(\n    col_keys = names(d),\n    line2 = c(\"Offences against property\", rep(\"Offences reported\", 4), rep(\"Offences reported per 100,000 persons\", 4)),\n    line3 = c(\"Offences against property\", \"2018-19\", \"2019-20 \", \"2020-21 \", \"1-yr change 2019-20 to 2020-21\", \"2018-19 (for pre-COVID comparison)\", \"2019-20(a) \", \"2020-21 \", \"1-yr change 2019-20 to 2020-21\") ,\n    line4 = c(\"Offence\", rep(\"- Number -\", 2), rep(\"%\", 2), rep(\"- Rate - \", 2), rep(\"%\", 2))\n)\n# Inspect.\nheader\n\n               col_keys                                 line2\n                 &lt;char&gt;                                &lt;char&gt;\n1:             category             Offences against property\n2:               num_18                     Offences reported\n3:               num_19                     Offences reported\n4:               num_20                     Offences reported\n5:      year_change_per                     Offences reported\n6:              rate_18 Offences reported per 100,000 persons\n7:              rate_19 Offences reported per 100,000 persons\n8:              rate_20 Offences reported per 100,000 persons\n9: rate_year_change_per Offences reported per 100,000 persons\n                                line3      line4\n                               &lt;char&gt;     &lt;char&gt;\n1:          Offences against property    Offence\n2:                            2018-19 - Number -\n3:                           2019-20  - Number -\n4:                           2020-21           %\n5:     1-yr change 2019-20 to 2020-21          %\n6: 2018-19 (for pre-COVID comparison)  - Rate - \n7:                        2019-20(a)   - Rate - \n8:                           2020-21           %\n9:     1-yr change 2019-20 to 2020-21          %\n\n# Define the Main categories.\nmain_cats &lt;- c(\"Unlawful entry\",\n    \"Arson\",\n    \"Other property damage\",\n    \"Unlawful use of motor vehicle\",\n    \"Other theft\",\n    \"Fraud\",\n    \"Handling stolen goods\"\n)\n\n# Define the theme design functions.\ntheme_design &lt;- function(x) {\n    x &lt;- border_remove(x)\n\n    second_last_row &lt;- d$category\n    second_last_row &lt;- rep(FALSE, length(second_last_row))\n    second_last_row[which(d$category %in% \"Total\") - 1] &lt;- TRUE\n\n    total_row &lt;- d$category == \"Total\"\n    third_sub &lt;- d$category %in% c(\"Without violence\", \"With violence\")\n    italic_column &lt;- names(d) %in% c(\"num_18\", \"rate_18\")\n\n    std_border &lt;- fp_border_default(width = 2, color = \"white\")\n    x &lt;- fontsize(x, size = 10, part = \"header\")\n    x &lt;- fontsize(x, size = 9, part = \"body\")\n    x &lt;- font(x, fontname = \"Arial\", part = \"all\")\n    x &lt;- align(x, align = \"center\", part = \"all\")\n    x &lt;- align(x, align = \"right\", part = \"body\")\n    x &lt;- bold(x, bold = TRUE, part = \"all\")\n    x &lt;- italic(x, j = italic_column, italic = TRUE, part = \"body\")\n    x &lt;- italic(x, i = third_sub, italic = TRUE, part = \"body\")\n    x &lt;- bg(x, bg = primary_cat, part = \"body\")\n    x &lt;- bg(x, bg = main_head_col, part = \"header\")\n    x &lt;- bg(x, bg = highlight_col, part = \"footer\")\n    x &lt;- color(x, color = \"black\", part = \"all\")\n    x &lt;- padding(x, padding = 2, part = \"all\")\n    x &lt;- border_outer(x, part = \"all\", border = std_border)\n    x &lt;- border_inner_h(x, border = std_border, part = \"header\")\n    x &lt;- border_inner_v(x, border = std_border, part = \"all\")\n    x &lt;- hline(x, i = second_last_row, border = std_border, part = \"body\")\n    x &lt;- set_table_properties(x, layout = \"fixed\")\n    x &lt;- width(x, j = 1, width = 4.5, unit = \"cm\")\n    x &lt;- align(x, i = NULL, j = 1, align = \"left\", part = \"body\")\n    x &lt;- align(x, i = NULL, j = 1, align = \"left\", part = \"header\")\n    x &lt;- colformat_num(\n        x,\n        big.mark = \",\", decimal.mark = \".\",\n        na_str = \"N/A\"\n    )\n    x &lt;- bg(x, i = fifelse(d$category %in% main_cats, FALSE, TRUE), bg = secondary_cat, part = \"body\")\n    x &lt;- bg(x, i = total_row, bg = total_row_col, part = \"body\")\n    x &lt;- padding(\n        x,\n        j = 1,\n        padding = NULL,\n        padding.top = NULL,\n        padding.bottom = NULL,\n        padding.left = 5,\n        padding.right = NULL,\n        part = \"all\"\n    )\n    x &lt;- padding(\n        x,\n        i = fifelse(d$category %in% main_cats | total_row, FALSE, TRUE),\n        j = 1,\n        padding = NULL,\n        padding.top = NULL,\n        padding.bottom = NULL,\n        padding.left = 12,\n        padding.right = NULL,\n        part = \"body\"\n    )\n    x &lt;- padding(\n        x,\n        i = third_sub,\n        j = 1,\n        padding = NULL,\n        padding.top = NULL,\n        padding.bottom = NULL,\n        padding.left = 17,\n        padding.right = NULL,\n        part = \"body\"\n    )\n    x &lt;- bold(x, i = fifelse(d$category %in% main_cats | total_row, FALSE, TRUE), bold = FALSE, part = \"body\")\n    x\n}\n\n# Create the flextable.\nft &lt;- flextable(d, col_keys = header$col_keys)\n\n# Update flextable and apply the function.\nft &lt;- set_header_df(ft, mapping = header, key = \"col_keys\") %&gt;%\n    merge_v(part = \"header\", j = 1) %&gt;%\n    merge_h(part = \"header\", i = 1) %&gt;%\n    merge_h(part = \"header\", i = 3) %&gt;%\n    theme_design()\n\n# Compose the flextable.\nft &lt;- compose(\n    ft,\n    j = \"num_18\",\n    part = \"header\",\n    value = as_paragraph(\n        \"2018-19\",\n        as_chunk(\n            \" (for pre-COVID comparison)\",\n            props = fp_text_default(color = \"#006699\", font.size = 5)\n        )\n    )\n)\n\n# Display the flextable.\nft\n\nOffences against property2018-19 (for pre-COVID comparison)Offences reported per 100,000 persons2018-19 (for pre-COVID comparison)2019-20 2020-21 1-yr change 2019-20 to 2020-212018-19 (for pre-COVID comparison)2019-20(a) 2020-21 1-yr change 2019-20 to 2020-21Offence2018-19 (for pre-COVID comparison)%- Rate - %Unlawful entry40,25142,17035,681-15.4796.8821.2683.9-16.7Unlawful entry with intent - dwelling24,54825,04822,344-10.8485.9487.8428.3-12.2Without violence23,84924,34821,641-11.1472.1474.2414.8-12.5With violence6997007030.413.813.613.5-1.2Unlawful entry with intent - shop2,0532,4002,240-6.740.646.742.9-8.1Unlawful entry with intent - other13,65014,72211,097-24.6270.2286.7212.7-25.8Arson1,2871,4301,169-18.325.527.822.4-19.5Other property damage36,68936,34833,282-8.4726.3707.8637.9-9.9Unlawful use of motor vehicle14,94015,97514,900-6.7295.7311.1285.6-8.2Other theft129,960130,790103,179-21.12,572.62,547.01,977.6-22.4Stealing from dwellings8,8329,0446,816-24.6174.8176.1130.6-25.8Shop stealing26,38027,82520,818-25.2522.2541.9399.0-26.4Vehicles32,89033,16825,041-24.5651.1645.9480.0-25.7Other stealing61,85860,75350,504-16.91,224.51,183.1968.0-18.2Fraud28,99430,43123,424-23.0574.0592.6449.0-24.2Fraud by computer7711,312885-32.515.325.517.0-33.6Fraud by cheque12111674-36.22.42.31.4-37.2Fraud by credit card14,62814,44311,272-22.0289.6281.3216.0-23.2Identity fraud2,2382,4461,961-19.844.347.637.6-21.1Other fraud11,23612,1149,232-23.8222.4235.9176.9-25.0Handling stolen goods6,6577,6845,181-32.6131.8149.699.3-33.6Possess property suspected stolen3,0063,3462,044-38.959.565.239.2-39.9Receiving stolen property445440273-38.08.88.65.2-38.9Possess etc. tainted property3,1343,8162,805-26.562.074.353.8-27.7Other handling stolen goods728259-28.01.41.61.1-29.2Total258,778264,828216,816-18.15,122.65,157.34,155.7-19.4"
  },
  {
    "objectID": "2024_04_kings_and_queens.html",
    "href": "2024_04_kings_and_queens.html",
    "title": "Royal Street Names in Brisbane City",
    "section": "",
    "text": "Have you ever noticed the prevalence of Royal street names within Australia?\nLiving in Brisbane CBD, it’s certainly quite known that female Royal street names run in one direction and males the other.\nWe can quite easily observe the commonality of this across Brisbane …\n# Define the input path to our shapefile.\nshapefile &lt;- st_read(\"./inputs/queens_n_queens.shp\")\n \n# Create a colour column that allows us to differential between female and male.\nshapefile$color &lt;- fifelse(shapefile$ROAD_NAME_ %ilike% royal_female, \"red\", \"blue\")\n# And gender\nshapefile$gender &lt;- fifelse(shapefile$ROAD_NAME_ %ilike% royal_female, \"Female\", \"Male\")\n\n# Coerce to a data.table.\ndt &lt;- data.table(shapefile)\n\n# Inspect frequencies.\ndt[, .N, ROAD_NAME_][order(-N)]\n\n\n# Create a leaflet map.\n    # - We'll use a minimilist base map.\n    # - Add the polylines from the shapefile and allow for street name popups.\n    # - Add coloured lines.\nmap &lt;-  leaflet() %&gt;%\n    addProviderTiles(providers$CartoDB.Positron) %&gt;%\n    addPolylines(\n        data = shapefile,\n        color = ~color,\n        weight = 3,\n        popup = ~ROAD_NAME_\n    ) %&gt;%\n    addLegend(\n        colors = c(\"red\", \"blue\"),\n        labels = c(\"Female names\", \"Male names\"),\n        position = \"bottomright\"\n    )\n# Display the map.\nmap\nWe can zoom in to the CBD to highlight the directions by gender:\nmap %&gt;%\n  setView(lng = \"153.0255184\", lat = \"-27.4687535\", zoom = 15)\nWe can also calculate the lengths of each of the streets …\n# Calculate length/distance.\ndt[, street_length := st_length(shapefile)]\n\n# Inspect.\ndt[, .(ROAD_NAME_, street_length)]\n\n           ROAD_NAME_ street_length\n               &lt;char&gt;       &lt;units&gt;\n  1:  Adelaide Street  28.33155 [m]\n  2:     Queen Street 145.81836 [m]\n  3:    Arthur Street 308.68295 [m]\n  4:     Alice Street  92.87580 [m]\n  5: Alexandra Street 104.41105 [m]\n ---                               \n781:     Alice Street 217.05599 [m]\n782:    Albert Street  99.27984 [m]\n783:     Albert Place 145.69407 [m]\n784: Alexandra Street  88.38151 [m]\n785:   Arthur Terrace  74.34477 [m]\n\n# Calculate cumulative length by gender.\ngen &lt;- dt[, .(cumulative_length = sum(street_length)), by = gender]\n\n# Plot the cumulative lengths for both genders.\nplot_ly(gen, x = ~gender, y = ~cumulative_length, type = 'bar', marker = list(color = c(\"pink\", \"#ADD8E6\"))) %&gt;%\n  layout(title = \"Distance by Gender\",\n         xaxis = list(title = \"Gender\"),\n         yaxis = list(title = \"Distance\"))"
  },
  {
    "objectID": "2024_04_kings_and_queens.html#themed-streets",
    "href": "2024_04_kings_and_queens.html#themed-streets",
    "title": "Royal Street Names in Brisbane City",
    "section": "Themed Streets",
    "text": "Themed Streets\n\n# Import themed streets.\nshapefile &lt;- st_read(\"./inputs/themes.shp\")\n\nReading layer `themes' from data source \n  `C:\\Users\\kyleh\\GitHub\\KyleHaynes.github.io\\inputs\\themes.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 10005 features and 48 fields\nGeometry type: LINESTRING\nDimension:     XY\nBounding box:  xmin: 138.5856 ymin: -28.85879 xmax: 153.5363 ymax: -9.952433\nGeodetic CRS:  GDA94\n\n# Colour them.\n# Create a named vector.\nvec &lt;- c(\n    \"blue\" = \"Holden\",\n    \"orange\" = \"Artists\",\n    \"purple\" = \"Space\",\n    \"#0db7dc\" = \"Wine Region\",\n    \"green\" = \"Flora\",\n    \"#1abc9c\" = \"Birds\",\n    \"#22847a\" = \"Celebs\",\n    \"black\" = \"Ordinals\"\n)\n\nshapefile$color &lt;- fcase(\n    shapefile$ROAD_NAME_ %ilike% regex_holden,  names(vec)[1],\n    shapefile$ROAD_NAME_ %ilike% regex_art,     names(vec)[2],\n    shapefile$ROAD_NAME_ %ilike% regex_space,   names(vec)[3],\n    shapefile$ROAD_NAME_ %ilike% regex_wine,    names(vec)[4],\n    shapefile$ROAD_NAME_ %ilike% regex_trees,   names(vec)[5],\n    shapefile$ROAD_NAME_ %ilike% regex_birds,   names(vec)[6],\n    shapefile$ROAD_NAME_ %ilike% regex_celebs,  names(vec)[7],\n    shapefile$ROAD_NAME_ %ilike% regex_first_f, names(vec)[8]\n)\n\n\n# And gender\n\nmap &lt;- leaflet() %&gt;%\n    addProviderTiles(providers$CartoDB.Positron) %&gt;%\n    addPolylines(\n        data = shapefile[],\n        color = ~color,\n        weight = 3,\n        popup = ~ROAD_NAME_\n    ) %&gt;%\n    addLegend(\n        colors = names(vec),\n        labels = vec,\n        position = \"bottomright\"\n    )\n\nWarning: sf layer has inconsistent datum (+proj=longlat +ellps=GRS80 +no_defs).\nNeed '+proj=longlat +datum=WGS84'\n\n### Holden Streets: Sunnybank Hills\n\nmap %&gt;%\n  setView(lng = \"153.0411963\", lat = \"-27.5953411\", zoom = 17)\n\n\n\n\n### Artists & Trees: Mackenzie\n\nmap %&gt;%\n  setView(lng = \"153.1252209\", lat = \"-27.5418537\", zoom = 16)\n\n\n\n\n### Wine Region: Carseldine\n\nmap %&gt;%\n  setView(lng = \"153.0068839\", lat = \"-27.3517528\", zoom = 16)"
  },
  {
    "objectID": "attributions.html",
    "href": "attributions.html",
    "title": "Kyle Haynes",
    "section": "",
    "text": "CV idea from: https://www.cynthiahqy.com/posts/cv-html-pdf/"
  }
]